# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
spring.application.name=anyschool-backend

# =============================================================================
# DATABASE CONFIGURATION - PostgreSQL
# =============================================================================
# Use environment variables for database credentials (NO HARDCODED VALUES!)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/stationeryhub_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================================================================
# JPA / HIBERNATE CONFIGURATION
# =============================================================================
# CRITICAL: Use 'update' NOT 'create-drop' to preserve data!
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${SPRING_JPA_FORMAT_SQL:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# JWT Secret - MUST be set via environment variable in production
# Format: JWT_SECRET=your-very-long-secret-key-here
# CRITICAL: Must be at least 256 bits (32 characters) for HS256 algorithm
jwt.secret=${JWT_SECRET:}

# JWT Token Expiration (in milliseconds)
# Default: 86400000 ms = 24 hours
jwt.expiration=${JWT_EXPIRATION:86400000}

# JWT Refresh Token Expiration (in milliseconds)
# Default: 604800000 ms = 7 days (for future use)
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:604800000}

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
server.port=${PORT:8080}
server.error.include-message=${SERVER_ERROR_INCLUDE_MESSAGE:never}
server.error.include-binding-errors=${SERVER_ERROR_INCLUDE_BINDING_ERRORS:never}

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email settings for OTP verification
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
logging.level.com.anyschool=${LOG_LEVEL_ANY_SCHOOL:INFO}
logging.level.org.springframework.security=${LOG_LEVEL_SPRING_SECURITY:INFO}
logging.level.org.hibernate.SQL=${LOG_LEVEL_HIBERNATE_SQL:WARN}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOG_LEVEL_HIBERNATE_BINDER:WARN}

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CSRF protection (will be configured in SecurityConfig)
# CORS will be configured programmatically

# =============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =============================================================================
# Before deploying to production, ensure you set these environment variables:
# - SPRING_DATASOURCE_URL: Full PostgreSQL connection URL
# - SPRING_DATASOURCE_USERNAME: Database username
# - SPRING_DATASOURCE_PASSWORD: Database password
# - JWT_SECRET: Strong secret key (min 256 bits for HS256)
#
# Example:
# export SPRING_DATASOURCE_URL=jdbc:postgresql://prod-db-server:5432/anyschool_db
# export SPRING_DATASOURCE_USERNAME=anyschool_user
# export SPRING_DATASOURCE_PASSWORD=secure_password_here
# export JWT_SECRET=your-256-bit-secret-key-here